---
layout: post
title: linux audio
date: '2012-05-03T19:09:00.002+05:00'
author: Abbas Raza
tags: 
modified_time: '2012-05-03T19:09:39.113+05:00'
blogger_id: tag:blogger.com,1999:blog-3367966882409306161.post-2995447753304293518
blogger_orig_url: https://abbas-raza.blogspot.com/2012/05/linux-audio.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br /><span style="font-family: 'Courier New', Courier, monospace;"><strong>Linux audio</strong></span><br /><span style="font-family: 'Courier New', Courier, monospace;"><b><br /></b>There are two main audio APIs used under Linux, namely the Open Sound  System (OSS) and the Advanced Linux Sound Architecture (ALSA). There are  also some alternatives, however OSS and ALSA are by far most popular  audio interfaces. If you would like to read a bit more on how OSS and  ALSA APIs compare then have a look at the <a href="http://www.linuxhardware.org/article.pl?sid=01/03/06/179255">ALSA vs. OSS</a> article. In our article, we will mostly limit our discussion to the  ALSA API. Note however that ALSA does provide a compatibility mode for  OSS. Some very useful information about ALSA can be found in <a href="http://tldp.org/HOWTO/Alsa-sound.html#toc6">Alsa-sound-mini-HOWTO</a>.  Well, let me squeeze in another useful reference before proceeding. The  beautiful thing about Linux is how simple things are under it. Under  Linux, the audio devices are simply character devices. This makes it  easy to access and use them. If you are planning on writing some code  that requires audio device manipulation, then <a href="http://www.equalarea.com/paul/alsa-audio.html">A Tutorial on Using the ALSA Audio API</a> is well worth a read.</span><br /> <span style="font-family: 'Courier New', Courier, monospace;">To start, lets have a look at audio cards installed on your system, by running the following command.</span><br /><span style="font-family: 'Courier New', Courier, monospace;"><br /></span><br /> <pre><span style="font-family: 'Courier New', Courier, monospace;">cat /proc/asound/cards</span></pre><span style="font-family: 'Courier New', Courier, monospace;">If, for instance, your sound card is based on NVidia NFORCE chip-set the output might look something like this:</span><br /> <pre><span style="font-family: 'Courier New', Courier, monospace;"> 0 [CK804          ]: NFORCE - NVidia CK804<br />                      NVidia CK804 with ALC850 at 0xd0103000, irq 233</span></pre><pre><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></pre><span style="font-family: 'Courier New', Courier, monospace;">On my system, the sound card is part of the Intel chip-set and is  listed below as card 0. There is also another card with audio  capabilities (card 1) which is an analog modem (in this case also a part  of the Intel chip-set).</span><br /><span style="font-family: 'Courier New', Courier, monospace;"><br /></span><br /> <pre><span style="font-family: 'Courier New', Courier, monospace;"> 0 [I82801DBICH4   ]: ICH4 - Intel 82801DB-ICH4<br />                      Intel 82801DB-ICH4 with unknown codec at 0xe0100c00, irq 10<br /> 1 [Modem          ]: ICH-MODEM - Intel 82801DB-ICH4 Modem<br />                      Intel 82801DB-ICH4 Modem at 0x2400, irq 10</span></pre><pre><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></pre><span style="font-family: 'Courier New', Courier, monospace;">Strictly speaking, an audio card could have a number of on-board devices. These devices are available under the <code>/dev</code> tree. The OSS device nodes are located in <code>/dev/dsp*</code> while ALSA uses <code>/dev/snd/*</code>. Lets have a closer look at ALSA's device nodes.</span><br /> <pre><span style="font-family: 'Courier New', Courier, monospace;">ls -la /dev/snd</span></pre><span style="font-family: 'Courier New', Courier, monospace;">The above command should produce an output similar to the one shown  below, provided that you do have a sound card and that ALSA is present  and loaded on your system.</span><br /> <pre><span style="font-family: 'Courier New', Courier, monospace;">total 0<br />drwxr-xr-x  2 root  root     280 Oct 31 13:48 .<br />drwxr-xr-x 12 root  root    3840 Oct 31 13:49 ..<br />crw-------  1 kamil root 116, 10 Oct 31 13:48 controlC0<br />crw-------  1 kamil root 116, 13 Oct 31 13:48 controlC1<br />crw-------  1 kamil root 116,  9 Oct 31 13:48 pcmC0D0c<br />crw-------  1 kamil root 116,  8 Oct 31 13:48 pcmC0D0p<br />crw-------  1 kamil root 116,  7 Oct 31 13:48 pcmC0D1c<br />crw-------  1 kamil root 116,  6 Oct 31 13:48 pcmC0D2c<br />crw-------  1 kamil root 116,  5 Oct 31 13:48 pcmC0D3c<br />crw-------  1 kamil root 116,  4 Oct 31 13:48 pcmC0D4p<br />crw-------  1 kamil root 116, 12 Oct 31 13:48 pcmC1D0c<br />crw-------  1 kamil root 116, 11 Oct 31 13:48 pcmC1D0p<br />crw-------  1 kamil root 116,  3 Oct 31 13:48 seq<br />crw-------  1 kamil root 116,  2 Oct 31 13:48 timer</span></pre><span style="font-family: 'Courier New', Courier, monospace;">The above output shows a number of devices. Amongst others, there is the <code>/dev/snd/controlC0</code> which is the control device for card 0, as well as <code>/dev/snd/pcmC0D0p</code> which is the raw audio playback device 0 on card 0. Note that the  current naming convention is such that the card number follows the  letter <code>C</code> and device number follows the letter <code>D</code>. The last letter on the <code>pcm</code> devices, <code>c</code> or <code>p</code>, indicates if the device is used  for capture or playback, respectively.</span><br /></div>