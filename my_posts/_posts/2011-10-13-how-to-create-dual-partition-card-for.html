---
layout: post
title: How to create a dual-partition card for BeagleBoard to boot Linux from first
  partition and have root file system at second partition
date: '2011-10-13T16:26:00.000+05:00'
author: Abbas Raza
tags:
- dual boot
- beagleboard
modified_time: '2011-10-13T16:26:44.783+05:00'
blogger_id: tag:blogger.com,1999:blog-3367966882409306161.post-241283035317107044
blogger_orig_url: https://abbas-raza.blogspot.com/2011/10/how-to-create-dual-partition-card-for.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br /><h1><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Introduction</span></h1><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">This guide is meant for those looking to create a <strong>dual-partition</strong>  card, booting from a FAT partition that can be read by the OMAP3 ROM  bootloader and Linux/Windows, then utilizing an ext3 partition for the  Linux root file system. </span><br /><h1><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Details"></a>Details</span></h1><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Text marked with <a href="http://code.google.com/p/beagleboard/wiki/LinuxBootDiskFormat"></a> shows user input. </span><br /><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Determine_which_device_the_SD_Card_Reader_is_on_your_system"></a>Determine which device the SD Card Reader is on your system</span></h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Plug  the SD Card into the SD Card Reader and then plug the SD Card Reader  into your system.  After doing that, do the following to determine which  device it is on your system. </span><br /><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="pln">$ </span><span class="pun">[</span><span class="pln">dmesg </span><span class="pun">|</span><span class="pln"> tail</span><span class="pun">]</span><span class="pln"><br /></span><span class="pun">...</span><span class="pln"><br /></span><span class="pun">[</span><span class="pln"> </span><span class="lit">6854.215650</span><span class="pun">]</span><span class="pln"> sd </span><span class="lit">7</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">sdc</span><span class="pun">]</span><span class="pln"> </span><span class="typ">Mode</span><span class="pln"> </span><span class="typ">Sense</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0b</span><span class="pln"> </span><span class="lit">00</span><span class="pln"> </span><span class="lit">00</span><span class="pln"> </span><span class="lit">08</span><span class="pln"><br /></span><span class="pun">[</span><span class="pln"> </span><span class="lit">6854.215653</span><span class="pun">]</span><span class="pln"> sd </span><span class="lit">7</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">sdc</span><span class="pun">]</span><span class="pln"> </span><span class="typ">Assuming</span><span class="pln"> drive cache</span><span class="pun">:</span><span class="pln"> write through</span><span class="pun">[</span><span class="pln"> </span><span class="lit">6854.215659</span><span class="pun">]</span><span class="pln"> &nbsp;sdc</span><span class="pun">:</span><span class="pln"> sdc1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">6854.218079</span><span class="pun">]</span><span class="pln"> sd </span><span class="lit">7</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">sdc</span><span class="pun">]</span><span class="pln"> </span><span class="typ">Attached</span><span class="pln"> SCSI removable disk</span><span class="pun">[</span><span class="pln"> </span><span class="lit">6854.218135</span><span class="pun">]</span><span class="pln"> sd </span><span class="lit">7</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Attached</span><span class="pln"> scsi generic sg2 type </span><span class="lit">0</span><span class="pln"><br /></span><span class="pun">...</span></span></pre><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">In this case, it shows up as /dev/sdc (note sdc inside the square brackets above). </span><br /><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Check_to_see_if_the_automounter_has_mounted_the_SD_Card"></a>Check to see if the automounter has mounted the SD Card</span></h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Note there may be more than one partition (only one shown in the example below). </span><br /><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="pln">$ </span><span class="pun">[</span><span class="pln">df </span><span class="pun">-</span><span class="pln">h</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Filesystem</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Size</span><span class="pln"> &nbsp;</span><span class="typ">Used</span><span class="pln"> </span><span class="typ">Avail</span><span class="pln"> </span><span class="typ">Use</span><span class="pun">%</span><span class="pln"> </span><span class="typ">Mounted</span><span class="pln"> on</span><span class="pun">...</span><span class="pln"><br /></span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">400M</span><span class="pln"> &nbsp; </span><span class="lit">94M</span><span class="pln"> &nbsp;</span><span class="lit">307M</span><span class="pln"> &nbsp;</span><span class="lit">24</span><span class="pun">%</span><span class="pln"> </span><span class="str">/media/</span><span class="pln">disk</span><span class="pun">...</span></span></pre><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Note the "Mounted on" field in the above and use that name in the umount commands below.   </span><br /><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="If_so,_unmount_it"></a>If so, unmount it</span></h3><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="pln">$ </span><span class="pun">[</span><span class="pln">umount </span><span class="pun">/</span><span class="pln">media</span><span class="pun">/</span><span class="pln">disk</span><span class="pun">]</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Start_fdisk"></a>Start fdisk</span></h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><strong>Be sure to choose the whole device (/dev/sdc), not a single partition (/dev/sdc1).</strong> </span><br /><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="pln">$ </span><span class="pun">[</span><span class="pln">sudo fdisk </span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc</span><span class="pun">]</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Print_the_partition_record"></a>Print the partition record</span></h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">So you know your starting point.  <strong>Make sure to write down the number of bytes on the card (in this example, 2021654528).</strong> </span><br /><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">p</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Disk</span><span class="pln"> </span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2021</span><span class="pln"> MB</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2021654528</span><span class="pln"> bytes</span><span class="lit">255</span><span class="pln"> heads</span><span class="pun">,</span><span class="pln"> </span><span class="lit">63</span><span class="pln"> sectors</span><span class="pun">/</span><span class="pln">track</span><span class="pun">,</span><span class="pln"> </span><span class="lit">245</span><span class="pln"> cylinders</span><span class="typ">Units</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> cylinders of </span><span class="lit">16065</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">512</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">8225280</span><span class="pln"> bytes<br /><br />&nbsp; &nbsp;</span><span class="typ">Device</span><span class="pln"> </span><span class="typ">Boot</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="typ">Start</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">End</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="typ">Blocks</span><span class="pln"> &nbsp; </span><span class="typ">Id</span><span class="pln"> &nbsp;</span><span class="typ">System</span><span class="pln"><br /></span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc1 &nbsp; </span><span class="pun">*</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">1</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">246</span><span class="pln"> &nbsp; &nbsp; </span><span class="lit">1974240</span><span class="pun">+</span><span class="pln"> &nbsp; c &nbsp;W95 FAT32 </span><span class="pun">(</span><span class="pln">LBA</span><span class="pun">)</span><span class="pln"><br /></span><span class="typ">Partition</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> has different physical</span><span class="pun">/</span><span class="pln">logical endings</span><span class="pun">:</span><span class="pln"><br />&nbsp; &nbsp; &nbsp;phys</span><span class="pun">=(</span><span class="lit">244</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">,</span><span class="pln"> </span><span class="lit">63</span><span class="pun">)</span><span class="pln"> logical</span><span class="pun">=(</span><span class="lit">245</span><span class="pun">,</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"> </span><span class="lit">19</span><span class="pun">)</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Delete_any_partitions_that_are_there_already"></a>Delete any partitions that are there already</span></h3><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">d</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Selected</span><span class="pln"> partition </span><span class="lit">1</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Set_the_Geometry_of_the_SD_Card"></a>Set the Geometry of the SD Card</span></h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">If the print out above does not show 255 heads, 63 sectors/track, then do the following expert mode steps to redo the SD Card: </span><br /><ul><li><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Go into expert mode. </span></li></ul><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">x</span><span class="pun">]</span></span></pre><ul><li><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Set the number of heads to 255. </span></li></ul><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Expert</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">h</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Number</span><span class="pln"> of heads </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">256</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> xxx</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="lit">255</span><span class="pun">]</span></span></pre><ul><li><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Set the number of sectors to 63. </span></li></ul><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Expert</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">s</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Number</span><span class="pln"> of sectors </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">63</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> xxx</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="lit">63</span><span class="pun">]</span></span></pre><ul><li><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Now Calculate the number of Cylinders for your SD Card.   </span></li></ul><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="com">#cylinders = FLOOR (the number of Bytes on the SD Card (from above) / 255 / 63 / 512 )</span><span class="pln"><br /></span><span class="typ">So</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="kwd">this</span><span class="pln"> example</span><span class="pun">:</span><span class="pln"> &nbsp;</span><span class="lit">2021654528</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">255</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">63</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">512</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">245.79</span><span class="pun">.</span><span class="pln"> &nbsp;</span><span class="typ">So</span><span class="pln"> we </span><span class="kwd">use</span><span class="pln"> </span><span class="lit">245</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">.</span><span class="pln">e</span><span class="pun">.</span><span class="pln"> truncate</span><span class="pun">,</span><span class="pln"> don</span><span class="str">'t round).</span></span></pre><ul><li><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Set the number of cylinders to the number calculated. </span></li></ul><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Expert</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">c</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Number</span><span class="pln"> of cylinders </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">256</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> xxx</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">enter the number you calculated</span><span class="pun">]</span></span></pre><ul><li><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Return to Normal mode. </span></li></ul><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Expert</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">r</span><span class="pun">]</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Print_the_partition_record_to_check_your_work"></a>Print the partition record to check your work</span></h3><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">p</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Disk</span><span class="pln"> </span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2021</span><span class="pln"> MB</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2021654528</span><span class="pln"> bytes</span><span class="lit">255</span><span class="pln"> heads</span><span class="pun">,</span><span class="pln"> </span><span class="lit">63</span><span class="pln"> sectors</span><span class="pun">/</span><span class="pln">track</span><span class="pun">,</span><span class="pln"> </span><span class="lit">245</span><span class="pln"> cylinders</span><span class="typ">Units</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> cylinders of </span><span class="lit">16065</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">512</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">8225280</span><span class="pln"> bytes<br /><br />&nbsp; &nbsp;</span><span class="typ">Device</span><span class="pln"> </span><span class="typ">Boot</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="typ">Start</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">End</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="typ">Blocks</span><span class="pln"> &nbsp; </span><span class="typ">Id</span><span class="pln"> &nbsp;</span><span class="typ">System</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Create_the_FAT32_partition_for_booting_and_transferring_files_fr"></a>Create the FAT32 partition for booting and transferring files from Windows</span></h3><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">n</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Command</span><span class="pln"> action<br />&nbsp; &nbsp;e &nbsp; extended<br />&nbsp; &nbsp;p &nbsp; primary partition </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">4</span><span class="pun">)</span><span class="pln"><br /></span><span class="pun">[</span><span class="pln">p</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Partition</span><span class="pln"> number </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">4</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">First</span><span class="pln"> cylinder </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">245</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> </span><span class="lit">1</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[(</span><span class="pln">press </span><span class="typ">Enter</span><span class="pun">)]</span><span class="pln"><br /></span><span class="typ">Using</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> value </span><span class="lit">1</span><span class="pln"><br /></span><span class="typ">Last</span><span class="pln"> cylinder </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">+</span><span class="pln">size </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">+</span><span class="pln">sizeM </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">+</span><span class="pln">sizeK </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">245</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> </span><span class="lit">245</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[+</span><span class="lit">50</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">t</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Selected</span><span class="pln"> partition </span><span class="lit">1</span><span class="pln"><br /></span><span class="typ">Hex</span><span class="pln"> code </span><span class="pun">(</span><span class="pln">type L to list codes</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">c</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Changed</span><span class="pln"> system type of partition </span><span class="lit">1</span><span class="pln"> to c </span><span class="pun">(</span><span class="pln">W95 FAT32 </span><span class="pun">(</span><span class="pln">LBA</span><span class="pun">))</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Mark_it_as_bootable"></a>Mark it as bootable</span></h3><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">a</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Partition</span><span class="pln"> number </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">4</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Create_the_Linux_partition_for_the_root_file_system"></a>Create the Linux partition for the root file system</span></h3><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">n</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Command</span><span class="pln"> action<br />&nbsp; &nbsp;e &nbsp; extended<br />&nbsp; &nbsp;p &nbsp; primary partition </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">4</span><span class="pun">)</span><span class="pln"><br /></span><span class="pun">[</span><span class="pln">p</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Partition</span><span class="pln"> number </span><span class="pun">(</span><span class="lit">1</span><span class="pun">-</span><span class="lit">4</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">First</span><span class="pln"> cylinder </span><span class="pun">(</span><span class="lit">52</span><span class="pun">-</span><span class="lit">245</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> </span><span class="lit">52</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[(</span><span class="pln">press </span><span class="typ">Enter</span><span class="pun">)]</span><span class="pln"><br /></span><span class="typ">Using</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> value </span><span class="lit">52</span><span class="pln"><br /></span><span class="typ">Last</span><span class="pln"> cylinder </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">+</span><span class="pln">size </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">+</span><span class="pln">sizeM </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">+</span><span class="pln">sizeK </span><span class="pun">(</span><span class="lit">52</span><span class="pun">-</span><span class="lit">245</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> </span><span class="lit">245</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[(</span><span class="pln">press </span><span class="typ">Enter</span><span class="pun">)]</span><span class="pln"><br /></span><span class="typ">Using</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> value </span><span class="lit">245</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Print_to_Check_Your_Work"></a>Print to Check Your Work</span></h3><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">p</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">Disk</span><span class="pln"> </span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2021</span><span class="pln"> MB</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2021654528</span><span class="pln"> bytes</span><span class="lit">255</span><span class="pln"> heads</span><span class="pun">,</span><span class="pln"> </span><span class="lit">63</span><span class="pln"> sectors</span><span class="pun">/</span><span class="pln">track</span><span class="pun">,</span><span class="pln"> </span><span class="lit">245</span><span class="pln"> cylinders</span><span class="typ">Units</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> cylinders of </span><span class="lit">16065</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">512</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">8225280</span><span class="pln"> bytes<br /><br />&nbsp; &nbsp;</span><span class="typ">Device</span><span class="pln"> </span><span class="typ">Boot</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="typ">Start</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">End</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="typ">Blocks</span><span class="pln"> &nbsp; </span><span class="typ">Id</span><span class="pln"> &nbsp;</span><span class="typ">System</span><span class="pln"><br /></span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc1 &nbsp; </span><span class="pun">*</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">1</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">51</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="lit">409626</span><span class="pln"> &nbsp; &nbsp;c &nbsp;W95 FAT32 </span><span class="pun">(</span><span class="pln">LBA</span><span class="pun">)</span><span class="pln"><br /></span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">52</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">245</span><span class="pln"> &nbsp; &nbsp; </span><span class="lit">1558305</span><span class="pln"> &nbsp; </span><span class="lit">83</span><span class="pln"> &nbsp;</span><span class="typ">Linux</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Save_the_new_partition_records_on_the_SD_Card"></a>Save the new partition records on the SD Card</span></h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><strong>This is an important step.  All the work up to now has been temporary.</strong> </span><br /><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="typ">Command</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="kwd">for</span><span class="pln"> help</span><span class="pun">):</span><span class="pln"> </span><span class="pun">[</span><span class="pln">w</span><span class="pun">]</span><span class="pln"><br /></span><span class="typ">The</span><span class="pln"> partition table has been altered</span><span class="pun">!</span><span class="pln"><br /></span><span class="typ">Calling</span><span class="pln"> ioctl</span><span class="pun">()</span><span class="pln"> to re</span><span class="pun">-</span><span class="pln">read partition table</span><span class="pun">.</span><span class="pln"><br /><br />WARNING</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Re</span><span class="pun">-</span><span class="pln">reading the partition table failed </span><span class="kwd">with</span><span class="pln"> error </span><span class="lit">16</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Device</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> resource busy</span><span class="pun">.</span><span class="pln"><br /></span><span class="typ">The</span><span class="pln"> kernel still uses the old table</span><span class="pun">.</span><span class="pln"><br /></span><span class="typ">The</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> table will be used at the </span><span class="kwd">next</span><span class="pln"> reboot</span><span class="pun">.</span><span class="pln"><br /><br />WARNING</span><span class="pun">:</span><span class="pln"> </span><span class="typ">If</span><span class="pln"> you have created </span><span class="kwd">or</span><span class="pln"> modified any DOS </span><span class="lit">6.x</span><span class="pln"><br />partitions</span><span class="pun">,</span><span class="pln"> please see the fdisk manual page </span><span class="kwd">for</span><span class="pln"> additional<br />information</span><span class="pun">.</span><span class="pln"><br /></span><span class="typ">Syncing</span><span class="pln"> disks</span><span class="pun">.</span></span></pre><h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><a href="" name="Format_the_partitions"></a>Format the partitions</span></h3><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">The two partitions are given the volume names LABEL1 and LABEL2 by these commands.  You can substitute your own volume labels. </span><br /><pre class="prettyprint"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="pln">$ </span><span class="pun">[</span><span class="pln">sudo mkfs</span><span class="pun">.</span><span class="pln">msdos </span><span class="pun">-</span><span class="pln">F </span><span class="lit">32</span><span class="pln"> </span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc1 </span><span class="pun">-</span><span class="pln">n LABEL1</span><span class="pun">]</span><span class="pln"><br />mkfs</span><span class="pun">.</span><span class="pln">msdos </span><span class="lit">2.11</span><span class="pln"> </span><span class="pun">(</span><span class="lit">12</span><span class="pln"> </span><span class="typ">Mar</span><span class="pln"> </span><span class="lit">2005</span><span class="pun">)</span><span class="pln"><br /><br />$ </span><span class="pun">[</span><span class="pln">sudo mkfs</span><span class="pun">.</span><span class="pln">ext3 </span><span class="pun">-</span><span class="pln">L LABEL2 </span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sdc2</span><span class="pun">]</span><span class="pln"><br />mke2fs </span><span class="lit">1.40</span><span class="pun">-</span><span class="pln">WIP </span><span class="pun">(</span><span class="lit">14</span><span class="pun">-</span><span class="typ">Nov</span><span class="pun">-</span><span class="lit">2006</span><span class="pun">)</span><span class="pln"><br /></span><span class="typ">Filesystem</span><span class="pln"> label</span><span class="pun">=</span><span class="pln"><br />OS type</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Linux</span><span class="pln"><br /></span><span class="typ">Block</span><span class="pln"> size</span><span class="pun">=</span><span class="lit">4096</span><span class="pln"> </span><span class="pun">(</span><span class="pln">log</span><span class="pun">=</span><span class="lit">2</span><span class="pun">)</span><span class="pln"><br /></span><span class="typ">Fragment</span><span class="pln"> size</span><span class="pun">=</span><span class="lit">4096</span><span class="pln"> </span><span class="pun">(</span><span class="pln">log</span><span class="pun">=</span><span class="lit">2</span><span class="pun">)</span><span class="pln"><br /></span><span class="lit">195072</span><span class="pln"> inodes</span><span class="pun">,</span><span class="pln"> </span><span class="lit">389576</span><span class="pln"> blocks</span><span class="lit">19478</span><span class="pln"> blocks </span><span class="pun">(</span><span class="lit">5.00</span><span class="pun">%)</span><span class="pln"> reserved </span><span class="kwd">for</span><span class="pln"> the </span><span class="kwd">super</span><span class="pln"> user</span><span class="typ">First</span><span class="pln"> data block</span><span class="pun">=</span><span class="lit">0</span><span class="pln"><br /></span><span class="typ">Maximum</span><span class="pln"> filesystem blocks</span><span class="pun">=</span><span class="lit">402653184</span><span class="pln"><br /></span><span class="lit">12</span><span class="pln"> block groups</span><span class="lit">32768</span><span class="pln"> blocks per </span><span class="kwd">group</span><span class="pun">,</span><span class="pln"> </span><span class="lit">32768</span><span class="pln"> fragments per </span><span class="kwd">group</span><span class="pln"><br /></span><span class="lit">16256</span><span class="pln"> inodes per </span><span class="kwd">group</span><span class="pln"><br /></span><span class="typ">Superblock</span><span class="pln"> backups stored on blocks</span><span class="pun">:</span><span class="pln"> <br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">32768</span><span class="pun">,</span><span class="pln"> </span><span class="lit">98304</span><span class="pun">,</span><span class="pln"> </span><span class="lit">163840</span><span class="pun">,</span><span class="pln"> </span><span class="lit">229376</span><span class="pun">,</span><span class="pln"> </span><span class="lit">294912</span><span class="pln"><br /></span><span class="typ">Writing</span><span class="pln"> inode tables</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">done</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Creating</span><span class="pln"> journal </span><span class="pun">(</span><span class="lit">8192</span><span class="pln"> blocks</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">done</span><span class="pln"><br /></span><span class="typ">Writing</span><span class="pln"> superblocks </span><span class="kwd">and</span><span class="pln"> filesystem accounting information</span><span class="pun">:</span><span class="pln"> </span></span></pre></div>