---
layout: post
title: USB HUB
date: '2013-12-09T01:19:00.001+05:00'
author: Abbas Raza
tags: 
modified_time: '2013-12-09T01:19:19.095+05:00'
blogger_id: tag:blogger.com,1999:blog-3367966882409306161.post-1433350452551813343
blogger_orig_url: https://abbas-raza.blogspot.com/2013/12/usb-hub.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br /><h2><span class="mw-headline" id="Physical_layout">Physical layout</span></h2><div class="thumb tleft"><div class="thumbinner" style="width: 252px;"><a class="image" href="http://en.wikipedia.org/wiki/File:USB_Hub_Internals.jpg"><img alt="" class="thumbimage" height="287" src="http://upload.wikimedia.org/wikipedia/commons/thumb/3/36/USB_Hub_Internals.jpg/250px-USB_Hub_Internals.jpg" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/36/USB_Hub_Internals.jpg/375px-USB_Hub_Internals.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/36/USB_Hub_Internals.jpg/500px-USB_Hub_Internals.jpg 2x" width="250" /></a><div class="thumbcaption"><div class="magnify"><a class="internal" href="http://en.wikipedia.org/wiki/File:USB_Hub_Internals.jpg" title="Enlarge"><img alt="" height="11" src="http://bits.wikimedia.org/static-1.23wmf5/skins/common/images/magnify-clip.png" width="15" /></a></div>A "star" "short cable" external USB hub with the plastic casing removed</div></div></div><span style="background-color: yellow;">A USB network is built from USB hubs connected downstream to USB  po</span>rts, which themselves may stem from USB hubs. USB hubs can extend a  USB network to a maximum of 127 ports. <span style="background-color: yellow;">The USB specification requires  that bus-powered hubs may not be connected in series to other  bus-powered hubs.</span><br /> USB ports are often closely spaced. Consequently, plugging a device  into one port may physically block an adjacent port, particularly when  the plug is not part of a cable but is integral to a device such as a <a href="http://en.wikipedia.org/wiki/USB_flash_drive" title="USB flash drive">USB flash drive</a>.  A horizontal array of horizontal sockets may be easy to fabricate, but  may cause only two out of four ports to be usable (depending on plug  width).<br /> Port arrays in which the port orientation is perpendicular to the  array orientation generally have fewer blockage problems. External  "Octopus" or "Squid" hubs (with each socket at the end of a very short  cable maybe 2 inches long), or "star" hubs (with each port facing in a  different direction, as pictured) avoid this problem completely.<br /> <h3><span class="mw-headline" id="Length_limitations">Length limitations</span></h3>USB cables are limited to 3 m for low-speed USB 1.1 device. A hub can  be used as an active USB repeater to extend cable length for up to 5 m  lengths at a time. <a href="http://en.wikipedia.org/wiki/Active_cable" title="Active cable">Active cables</a> (specialized connector-embedded one-port hubs) perform the same  function, but since they are strictly bus-powered, externally powered  (non-bus-powered) USB hubs would likely be required for some of the  segments.<br /> <h2><span class="mw-headline" id="Power" style="background-color: magenta;"><span id="Bus-powered_hub"></span><span id="Self-powered_hub"></span><span id="Dynamic-powered_hub"></span>Power</span></h2><span style="background-color: magenta;">A <b>bus-powered hub</b> is a hub that draws all its <a href="http://en.wikipedia.org/wiki/Electric_power" title="Electric power">power</a> from the host computer's USB <a href="http://en.wikipedia.org/wiki/Interconnection" title="Interconnection">interface</a>.  It does not need a separate power connection. </span>However, many devices  require more power than this method can provide, and will not work in  this type of hub.<br /> <span style="background-color: yellow;">A USB's <a href="http://en.wikipedia.org/wiki/Electric_current" title="Electric current">electric current</a> is allocated in units of 100&nbsp;mA up to a maximum total of 500&nbsp;mA per  port. Therefore a compliant bus powered hub can have no more than four  downstream ports and cannot offer more than four 100&nbsp;mA units of current  in total to downstream devices (since the hub needs one unit for  itself). If a device requires more units of current than the port it is  plugged into can supply, the operating system usually reports this to  the user.</span><br /> <span style="background-color: lime;">In contrast a <b>self-powered hub</b> is one that takes its power from an external <a href="http://en.wikipedia.org/wiki/Power_supply" title="Power supply">power supply</a> unit and can therefore provide full power (up to <span class="nowrap">500 mA)</span> to every port</span>. Many hubs can operate as either <a class="mw-redirect" href="http://en.wikipedia.org/wiki/Computer_bus" title="Computer bus">bus</a> powered or self powered hubs.<br /> However, there are many non-compliant hubs on the market which  announce themselves to the host as self-powered despite really being  bus-powered. <span style="background-color: magenta;">Equally there are plenty of non-compliant devices that use  more than 100&nbsp;mA without announcing this fact (or indeed sometimes  without identifying themselves as USB devices at all).</span> These hubs and  devices do allow more flexibility in the use of power (in particular  many devices use far less than 100&nbsp;mA and many USB ports can supply more  than 500&nbsp;mA before going into overload shut-off), but they are likely  to make power problems harder to diagnose.<br /> <span style="background-color: magenta;">Some self-powered hubs do not supply enough power to drive a <span class="nowrap">500 mA</span> load on every port</span>. For example, many seven port hubs have a 1A power  supply, when in fact seven ports could draw a maximum of 7 x 0.5 = 3.5A,  plus power for the hub itself. Designers assume the user will most  likely connect many low power devices and only one or two requiring a  full <span class="nowrap">500 mA.</span> On the other hand, the packaging for some self-powered hubs states explicitly how many of the ports ports can drive a <span class="nowrap">500 mA</span> full load at once. For example the packaging on a seven-port hub might claim to support a maximum of four full-load devices.<br /><br /> <span style="background-color: cyan;"><b>Dynamic-powered hubs</b> are hubs, which can work as bus-powered  as well as self-powered hubs. They can automatically switch between  modes depending on whether a separate power supply is available or not.  While switching from bus-powered to self-powered operation does not  necessarily require immediate renegotiations with the host, switching  from self-powered to bus-powered operation may cause USB connections to  be reset if connected devices previously requested more power than still  available in bus-powered mode.</span><br /> <h2><span class="mw-headline" id="Speed">Speed</span></h2><div class="thumb tright"><div class="thumbinner" style="width: 402px;"><a class="image" href="http://en.wikipedia.org/wiki/File:VIA_VL810_SuperSpeed_Hub_Demo_Board.jpg"><img alt="" class="thumbimage" height="295" src="http://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/VIA_VL810_SuperSpeed_Hub_Demo_Board.jpg/400px-VIA_VL810_SuperSpeed_Hub_Demo_Board.jpg" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d9/VIA_VL810_SuperSpeed_Hub_Demo_Board.jpg/600px-VIA_VL810_SuperSpeed_Hub_Demo_Board.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d9/VIA_VL810_SuperSpeed_Hub_Demo_Board.jpg/800px-VIA_VL810_SuperSpeed_Hub_Demo_Board.jpg 2x" width="400" /></a><div class="thumbcaption"><div class="magnify"><a class="internal" href="http://en.wikipedia.org/wiki/File:VIA_VL810_SuperSpeed_Hub_Demo_Board.jpg" title="Enlarge"><img alt="" height="11" src="http://bits.wikimedia.org/static-1.23wmf5/skins/common/images/magnify-clip.png" width="15" /></a></div>Hub Demo Board from VIA shows all internal components of a hub</div></div></div><span style="background-color: lime;">To allow <b><a class="mw-redirect" href="http://en.wikipedia.org/wiki/Universal_Serial_Bus#Signaling" title="Universal Serial Bus">high-speed</a></b> (USB 2.0) devices to operate in their fastest mode all hubs between the  devices and the computer must be high speed</span>. <span style="background-color: yellow;">High-speed devices should  fall back to <b><a class="mw-redirect" href="http://en.wikipedia.org/wiki/Universal_Serial_Bus#Signaling" title="Universal Serial Bus">full-speed</a></b> (USB 1.1) when plugged into a full-speed hub (or connected to an older  full-speed computer port). </span><span style="background-color: magenta;">While high-speed hubs can communicate at all  device speeds, low and full-speed traffic is combined and segregated  from high-speed traffic through a <b>transaction translator</b></span>. <span style="background-color: cyan;">Each  transaction translator segregates lower speed traffic into its own pool,  essentially creating a virtual full-speed bus. Some designs use a  single transaction translator, while other designs have multiple  translators. Having multiple translators is a significant benefit when  one connects multiple high-bandwidth full-speed devices.<sup class="reference" id="cite_ref-1"><a href="http://en.wikipedia.org/wiki/USB_hub#cite_note-1">[1]</a></sup></span><br /> It is an important consideration that in common language (and often  product marketing) USB 2.0 is used as synonymous with high-speed.  However, because the USB 2.0 specification, which introduced high-speed,  incorporates the USB 1.1 specification such that a USB 2.0 device is  not required to operate at high speed, any compliant full-speed or  low-speed device may still be labelled as a USB 2.0 device. Thus, not  all USB 2.0 hubs operate at high-speed.<sup class="Template-Fact" style="white-space: nowrap;">[<i><a href="http://en.wikipedia.org/wiki/Wikipedia:Citation_needed" title="Wikipedia:Citation needed"><span title="This claim needs references to reliable sources. (September 2012)">citation needed</span></a></i>]</sup><br /> <h2><span class="mw-headline" id="Protocol">Protocol</span></h2><span style="background-color: magenta;">Each hub has exactly one upstream port and a number of downstream  ports.</span> <span style="background-color: yellow;">The upstream port connects the hub (directly or through other  hubs) to the host. Other hubs or devices can be attached to the  downstream ports.</span> <span style="background-color: lime;">During normal transmission, hubs are essentially  transparent: data received from its upstream port is broadcast to all  devices attached to its downstream ports; data received from a  downstream port is generally forwarded to the upstream port only. This  way, what is sent by the host is received by all hubs and devices, and  what sent by a device is received by the host but not by the other  devices (an exception is resume signaling).</span><br /> <span style="background-color: magenta;">Hubs are not transparent when dealing with changes in the status of  downstream ports, such as insertion or removal of devices.</span> <span style="background-color: yellow;">In  particular, if a downstream port of a hub changes status, this change is  dealt in an interaction between the host and this hub; the hubs between  them act as transparent in this case.</span><br /> To this aim, <span style="background-color: cyan;">each hub has a single interrupt endpoint "1 IN"  (endpoint address 1, hub-to-host direction) used to signal changes in  the status of the downstream ports. When someone plugs in a device, the  hub detects voltage on either D+ or D- and signals the insertion to the  host via this interrupt endpoint. When the host polls this interrupt  endpoint, it learns that the new device is present. It then instructs  the hub (via the default control pipe) to reset the port where the new  device was plugged in. This reset makes the new device assume address 0,  and the host can then interact with it directly; this interaction will  result in the host assigning a new (non-zero) address to the device</span>.<sup class="reference" id="cite_ref-2"><a href="http://en.wikipedia.org/wiki/USB_hub#cite_note-2">[2]</a></sup><sup class="reference" id="cite_ref-3"><a href="http://en.wikipedia.org/wiki/USB_hub#cite_note-3">[3]</a></sup><br /> <h2><span class="mw-headline" id="Transaction_translator"><span id="TT"></span><span id="STT"></span><span id="MTT"></span>Transaction translator</span></h2><span style="background-color: magenta;">Any USB hub that supports a higher standard than USB 1.1 (12 Mbit/s)  will translate between the lower standard and the higher standard using  what is called a <b>transaction translator</b> (TT).</span> For example, <span style="background-color: lime;">if a  USB 1.1 device is connected to a port on a USB 2.0 hub, then the TT  would automatically recognize and translate the USB 1.1 signals to USB  2.0 on the uplink.</span> However, the default design is that all lower  standard devices share the same transaction translator and thus create a  bottleneck, a configuration known as the <span style="background-color: yellow;"><b>single transaction translator</b>.</span> Consequently, <span style="background-color: yellow;"><b>multi transaction translators</b> (Multi-TT)</span> were created, which provide more transaction translators such that bottlenecks are avoided.<sup class="reference" id="cite_ref-th_tt_4-0"><a href="http://en.wikipedia.org/wiki/USB_hub#cite_note-th_tt-4">[4]</a></sup><br /></div>