---
layout: post
title: sharding vs partitioning
date: '2018-03-29T23:53:00.000+05:00'
author: Abbas Raza
tags: 
modified_time: '2018-03-29T23:53:43.281+05:00'
blogger_id: tag:blogger.com,1999:blog-3367966882409306161.post-6002938416454803812
blogger_orig_url: https://abbas-raza.blogspot.com/2018/03/sharding-vs-partitioning.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br /><div id="UltyFz" style="-webkit-text-stroke-width: 0px; color: #333333; font-family: q_serif, Georgia, Times, &quot;Times New Roman&quot;, &quot;Hiragino Kaku Gothic Pro&quot;, Meiryo, serif; font-size: 16px; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;"></div><br /><div style="orphans: 2; text-align: start; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; widows: 2;"><div class="u-serif-font-main--large" style="line-height: 1.75;"><div class="ui_qtext_expanded" style="-webkit-text-stroke-width: 0px; color: #333333; font-family: q_serif, Georgia, Times, &quot;Times New Roman&quot;, &quot;Hiragino Kaku Gothic Pro&quot;, Meiryo, serif; font-size: 16px; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><span class="ui_qtext_rendered_qtext" style="tab-size: 4;">I take sharding to mean the partitioning of a table<span>&nbsp;</span><b style="font-weight: bold;">over multiple machines</b>(over multiple database instances in a distributed database system), whereas partitioning may just refer to the splitting up of a table<span>&nbsp;</span><b style="font-weight: bold;">on the same machine</b>.<br /><br />So a table that is sharded has been partitioned, but a table that has been partitioned has not necessarily been sharded.<br /><br style="margin-bottom: 0px !important;" />(it is still vague at best, so I'd add clarification if you ever use these terms yourself)</span></div><div class="ui_qtext_expanded" style="-webkit-text-stroke-width: 0px; color: #333333; font-family: q_serif, Georgia, Times, &quot;Times New Roman&quot;, &quot;Hiragino Kaku Gothic Pro&quot;, Meiryo, serif; font-size: 16px; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><span class="ui_qtext_rendered_qtext" style="tab-size: 4;"><br /></span></div><div class="ui_qtext_expanded"><span class="ui_qtext_rendered_qtext" style="tab-size: 4;"><span style="color: #333333; font-family: q_serif, Georgia, Times, Times New Roman, Hiragino Kaku Gothic Pro, Meiryo, serif;"><div class="ui_qtext_expanded">we have 5 nodes in EU cluster</div><div class="ui_qtext_expanded">every node having 32 cores</div><div class="ui_qtext_expanded">total cores = 160</div><div class="ui_qtext_expanded"><br /></div><div class="ui_qtext_expanded">lets say we have 10 year data in one table</div><div class="ui_qtext_expanded"><br /></div><div class="ui_qtext_expanded">having monthly partition:</div><div class="ui_qtext_expanded">total partitions = 12 * 10 = 120</div><div class="ui_qtext_expanded"><br /></div><div class="ui_qtext_expanded">having 2 shards per partition:</div><div class="ui_qtext_expanded">total shards = 120 * 2 = 240</div><div class="ui_qtext_expanded"><br /></div><div class="ui_qtext_expanded">every shard sits on one core</div><div class="ui_qtext_expanded">so 240 shards will be distributed among 160 cores</div><div class="ui_qtext_expanded"><br /></div><div class="ui_qtext_expanded">now if users only query last 3 month data:</div><div class="ui_qtext_expanded">one month means 2 shards sitting on 2 cores</div><div class="ui_qtext_expanded"><br /></div><div class="ui_qtext_expanded">so we will be utilizing only 6 cores then?</div><div class="ui_qtext_expanded"><br /></div><div class="ui_qtext_expanded">having 6 shards per partition and user queries last 3 month:</div><div class="ui_qtext_expanded">we utilizing 18 cores only?</div></span></span></div></div></div></div>