---
layout: post
title: Apache access.log format
date: '2017-05-02T17:52:00.002+05:00'
author: Abbas Raza
tags: 
modified_time: '2017-05-02T17:52:15.220+05:00'
blogger_id: tag:blogger.com,1999:blog-3367966882409306161.post-7451394135134861379
blogger_orig_url: https://abbas-raza.blogspot.com/2017/05/apache-accesslog-format.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><h2 style="background-color: #405871; color: white; font-family: Arial, Helvetica, sans-serif; font-size: 18px; margin: 0px 0px 0.5em; padding: 0.2em 0px 0.2em 0.7em;"><a href="https://www.blogger.com/null" id="accesslog" name="accesslog" style="background-color: inherit; color: inherit;">Access Log</a></h2><table class="related" style="background-color: white; border: 1px solid rgb(170, 170, 170); color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; margin-bottom: 1em; margin-top: 0.5em; padding: 2px;"><tbody><tr><th style="background-color: #e5ecf3; color: #405871; empty-cells: show; line-height: 1.3em; padding: 0.2ex 0.3em; text-align: left; vertical-align: middle;">Related Modules</th><th style="background-color: #e5ecf3; color: #405871; empty-cells: show; line-height: 1.3em; padding: 0.2ex 0.3em; text-align: left; vertical-align: middle;">Related Directives</th></tr><tr><td style="empty-cells: show; line-height: 1.3em; padding: 0.2ex 0.3em; vertical-align: top;"><ul style="list-style-type: none; margin: 0px; padding: 0px;"><li style="line-height: 1.3em; list-style-type: none; margin: 0px; padding: 0px;"><code class="module" style="background-color: inherit; color: saddlebrown; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html" style="background-color: inherit; color: rosybrown;">mod_log_config</a></code></li><li style="line-height: 1.3em; list-style-type: none; margin: 0px; padding: 0px;"><code class="module" style="background-color: inherit; color: saddlebrown; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_setenvif.html" style="background-color: inherit; color: rosybrown;">mod_setenvif</a></code></li></ul></td><td style="empty-cells: show; line-height: 1.3em; padding: 0.2ex 0.3em; vertical-align: top;"><ul style="list-style-type: none; margin: 0px; padding: 0px;"><li style="line-height: 1.3em; list-style-type: none; margin: 0px; padding: 0px;"><code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html#customlog" style="background-color: inherit; color: #35a500;">CustomLog</a></code></li><li style="line-height: 1.3em; list-style-type: none; margin: 0px; padding: 0px;"><code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html#logformat" style="background-color: inherit; color: #35a500;">LogFormat</a></code></li><li style="line-height: 1.3em; list-style-type: none; margin: 0px; padding: 0px;"><code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_setenvif.html#setenvif" style="background-color: inherit; color: #35a500;">SetEnvIf</a></code></li></ul></td></tr></tbody></table><div style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1em; padding: 0px;">The server access log records all requests processed by the server. The location and content of the access log are controlled by the&nbsp;<code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html#customlog" style="background-color: inherit; color: #35a500;">CustomLog</a></code>directive. The&nbsp;<code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html#logformat" style="background-color: inherit; color: #35a500;">LogFormat</a></code>&nbsp;directive can be used to simplify the selection of the contents of the logs. This section describes how to configure the server to record information in the access log.</div><div style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1em; padding: 0px;">Of course, storing the information in the access log is only the start of log management. The next step is to analyze this information to produce useful statistics. Log analysis in general is beyond the scope of this document, and not really part of the job of the web server itself. For more information about this topic, and for applications which perform log analysis, check the&nbsp;<a href="http://dmoz.org/Computers/Software/Internet/Site_Management/Log_Analysis/" style="background-color: inherit; color: #5a88b5;">Open Directory</a>.</div><div style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1em; padding: 0px;">Various versions of Apache httpd have used other modules and directives to control access logging, including mod_log_referer, mod_log_agent, and the&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">TransferLog</code>&nbsp;directive. The&nbsp;<code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html#customlog" style="background-color: inherit; color: #35a500;">CustomLog</a></code>&nbsp;directive now subsumes the functionality of all the older directives.</div><div style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1em; padding: 0px;">The format of the access log is highly configurable. The format is specified using a format string that looks much like a C-style printf(1) format string. Some examples are presented in the next sections. For a complete list of the possible contents of the format string, see the&nbsp;<code class="module" style="background-color: inherit; color: saddlebrown; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html" style="background-color: inherit; color: rosybrown;">mod_log_config</a></code>&nbsp;<a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html#formats" style="background-color: inherit; color: #5a88b5;">format strings</a>.</div><h3 style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 16px; margin: 1.3em 0px 0.4em; padding: 0px;"><a href="https://www.blogger.com/null" id="common" name="common" style="background-color: inherit; color: inherit;">Common Log Format</a></h3><div style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1em; padding: 0px;">A typical configuration for the access log might look as follows.</div><pre class="prettyprint lang-config prettyprinted" style="background-color: #e5ecf3; border: none; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 14px; margin: 1em 2em 1em 1em; overflow-x: auto; overflow-y: hidden; padding: 0.5em; tab-size: 4;"><span class="kwd" style="color: #112288; font-weight: bold;">LogFormat</span><span class="pln"> </span><span class="str" style="color: #006600;">"%h %l %u %t \"%r\" %&gt;s %b"</span><span class="pln"> common<br /></span><span class="kwd" style="color: #112288; font-weight: bold;">CustomLog</span><span class="pln"> logs</span><span class="pun" style="color: #666600;">/</span><span class="pln">access_log common</span></pre><div style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1em; padding: 0px;">This defines the&nbsp;<em>nickname</em>&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">common</code>&nbsp;and associates it with a particular log format string. The format string consists of percent directives, each of which tell the server to log a particular piece of information. Literal characters may also be placed in the format string and will be copied directly into the log output. The quote character (<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">"</code>) must be escaped by placing a backslash before it to prevent it from being interpreted as the end of the format string. The format string may also contain the special control characters "<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">\n</code>" for new-line and "<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">\t</code>" for tab.</div><div style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1em; padding: 0px;">The&nbsp;<code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html#customlog" style="background-color: inherit; color: #35a500;">CustomLog</a></code>&nbsp;directive sets up a new log file using the defined&nbsp;<em>nickname</em>. The filename for the access log is relative to the&nbsp;<code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/core.html#serverroot" style="background-color: inherit; color: #35a500;">ServerRoot</a></code>&nbsp;unless it begins with a slash.</div><div style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1em; padding: 0px;">The above configuration will write log entries in a format known as the Common Log Format (CLF). This standard format can be produced by many different web servers and read by many log analysis programs. The log file entries produced in CLF will look something like this:</div><div class="example" style="background-color: #e5ecf3; font-family: Arial, Helvetica, sans-serif; font-size: 14px; margin: 1em 2em 1em 1em; padding: 0.5em;"><div style="line-height: 1em; padding: 0px;"><code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 13px;">127.0.0.1 - frank [10/Oct/2000:13:55:36 -0700] "GET /apache_pb.gif HTTP/1.0" 200 2326</code></div></div><div style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1em; padding: 0px;">Each part of this log entry is described below.</div><dl style="background-color: white; color: #003366; font-family: Arial, Helvetica, sans-serif; font-size: 14px;"><dt style="font-weight: bold; line-height: 1.3em; margin-top: 0.5em;"><code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">127.0.0.1</code>&nbsp;(<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%h</code>)</dt><dd style="line-height: 1.3em;">This is the IP address of the client (remote host) which made the request to the server. If&nbsp;<code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/core.html#hostnamelookups" style="background-color: inherit; color: #35a500;">HostnameLookups</a></code>&nbsp;is set to&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">On</code>, then the server will try to determine the hostname and log it in place of the IP address. However, this configuration is not recommended since it can significantly slow the server. Instead, it is best to use a log post-processor such as&nbsp;<code class="program" style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/programs/logresolve.html" style="background-color: inherit; color: #5a88b5;">logresolve</a></code>&nbsp;to determine the hostnames. The IP address reported here is not necessarily the address of the machine at which the user is sitting. If a proxy server exists between the user and the server, this address will be the address of the proxy, rather than the originating machine.</dd><dt style="font-weight: bold; line-height: 1.3em; margin-top: 0.5em;"><code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">-</code>&nbsp;(<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%l</code>)</dt><dd style="line-height: 1.3em;">The "hyphen" in the output indicates that the requested piece of information is not available. In this case, the information that is not available is the RFC 1413 identity of the client determined by&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">identd</code>&nbsp;on the clients machine. This information is highly unreliable and should almost never be used except on tightly controlled internal networks. Apache httpd will not even attempt to determine this information unless&nbsp;<code class="directive" style="background-color: inherit; color: #287f00; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_ident.html#identitycheck" style="background-color: inherit; color: #35a500;">IdentityCheck</a></code>is set to&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">On</code>.</dd><dt style="font-weight: bold; line-height: 1.3em; margin-top: 0.5em;"><code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">frank</code>&nbsp;(<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%u</code>)</dt><dd style="line-height: 1.3em;">This is the userid of the person requesting the document as determined by HTTP authentication. The same value is typically provided to CGI scripts in the&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">REMOTE_USER</code>&nbsp;environment variable. If the status code for the request (see below) is 401, then this value should not be trusted because the user is not yet authenticated. If the document is not password protected, this part will be "<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">-</code>" just like the previous one.</dd><dt style="font-weight: bold; line-height: 1.3em; margin-top: 0.5em;"><code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">[10/Oct/2000:13:55:36 -0700]</code>&nbsp;(<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%t</code>)</dt><dd style="line-height: 1.3em;">The time that the request was received. The format is:<div class="indent" style="line-height: 1.3em; margin-bottom: 1em; margin-left: 2em; margin-top: 1em; padding: 0px;"><code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">[day/month/year:hour:minute:second zone]<br />day = 2*digit<br />month = 3*letter<br />year = 4*digit<br />hour = 2*digit<br />minute = 2*digit<br />second = 2*digit<br />zone = (`+' | `-') 4*digit</code></div><div style="line-height: 1.3em; margin-bottom: 1em; padding: 0px;">It is possible to have the time displayed in another format by specifying&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%{format}t</code>&nbsp;in the log format string, where&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">format</code>&nbsp;is either as in<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">strftime(3)</code>&nbsp;from the C standard library, or one of the supported special tokens. For details see the&nbsp;<code class="module" style="background-color: inherit; color: saddlebrown; font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;"><a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html" style="background-color: inherit; color: rosybrown;">mod_log_config</a></code>&nbsp;<a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html#formats" style="background-color: inherit; color: #5a88b5;">format strings</a>.</div></dd><dt style="font-weight: bold; line-height: 1.3em; margin-top: 0.5em;"><code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">"GET /apache_pb.gif HTTP/1.0"</code>&nbsp;(<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">\"%r\"</code>)</dt><dd style="line-height: 1.3em;">The request line from the client is given in double quotes. The request line contains a great deal of useful information. First, the method used by the client is&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">GET</code>. Second, the client requested the resource&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">/apache_pb.gif</code>, and third, the client used the protocol&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">HTTP/1.0</code>. It is also possible to log one or more parts of the request line independently. For example, the format string "<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%m %U%q %H</code>" will log the method, path, query-string, and protocol, resulting in exactly the same output as "<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%r</code>".</dd><dt style="font-weight: bold; line-height: 1.3em; margin-top: 0.5em;"><code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">200</code>&nbsp;(<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%&gt;s</code>)</dt><dd style="line-height: 1.3em;">This is the status code that the server sends back to the client. This information is very valuable, because it reveals whether the request resulted in a successful response (codes beginning in 2), a redirection (codes beginning in 3), an error caused by the client (codes beginning in 4), or an error in the server (codes beginning in 5). The full list of possible status codes can be found in the&nbsp;<a href="http://www.w3.org/Protocols/rfc2616/rfc2616.txt" style="background-color: inherit; color: #5a88b5;">HTTP specification</a>&nbsp;(RFC2616 section 10).</dd><dt style="font-weight: bold; line-height: 1.3em; margin-top: 0.5em;"><code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">2326</code>&nbsp;(<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%b</code>)</dt><dd style="line-height: 1.3em;">The last part indicates the size of the object returned to the client, not including the response headers. If no content was returned to the client, this value will be "<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">-</code>". To log "<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">0</code>" for no content, use&nbsp;<code style="font-family: &quot;Courier New&quot;, Courier, monospace; font-size: 1em;">%B</code>&nbsp;instead.</dd><div><br /></div></dl></div>